apply plugin: 'java'

dependencies {
    compile 'javax.ejb:ejb-api:3.0'
    compile 'javax.jms:jms:1.1'
    compile 'log4j:log4j:1.2.16'
    compile 'org.jboss.ejb3:jboss-ejb3-ext-api:2.0.0-beta-1'
    compile project(':version')
    compile project(':module')

    testCompile "org.hornetq:hornetq-core-client:2.2.5.Final"
    testCompile "org.jboss.netty:netty:3.2.1.Final"
}

jar {
    manifest {
        // 1. Enable the Dependencies attribute to fix deployment error: Caused by: java.lang.NoClassDefFoundError: Lorg/apache/log4j/Logger;
        attributes 'Dependencies': 'org.apache.log4j'
        // 2. Enable this ejb to have access to a the version.jar
        attributes 'Class-Path': 'version.jar'
        // 3. Enable this ejb to have access to the custom module 'se.rl.util' version '1.0'
        attributes 'Dependencies': 'org.apache.log4j,se.rl.util:1.0'
    }
}

repositories {
    mavenRepo urls: ['https://repository.jboss.org/nexus/content/groups/public/']
}
